# Подключение Outline VPN на сервере без графического интерфейса. 

## Вступление
Привет, дорогой читатель! Начну немного издалека. Меня зовут Сергей и я ~~:[||наркоман||]:~~ сисадмин, плавно дрейфующий с Windows в сторону Linux. У меня хорошая работа, неплохая зарплата, но всегда хочется чего-то новенького, так вот случилось и у меня. С Linux у меня связано много приятного, но раньше это всегда было на уровне курения манулов, в какой-то момент что-то щёлкнуло у меня в голове и я начал изучать Bash и собственно углубляться в *NIX-подобные системы. Надеюсь, не сильно утомил таким введением, потому что,  в общем-то перехожу к сути. Скриншотов будет мало, воды - много. 

<spoiler title="TL:DR">
Используйте shadowsocks-libev-local с конфигом на основе дефолтного
</spoiler>

## Завязка
Есть у меня несколько тестовых серверов, где я опробую всякое. И вот, понадобилось мне уже пользоваться VPN, но, вот беда, РКН научился резать OpenVPN и Wireguard заграницу. На мобильном телефоне и десктопах пользуюсь одним отличным сервисом VPN на основе Outline. Но что делать с сервером? Гугление и дакдакление внятного ничего не показало, лишь обрывки информации, которые я и собрал в этой статье. Итак:

+ из статьи [Настройка клиента Outline VPN на OpenWRT (все версии) на базе пакета shadowsocks-libev и tun2socks](https://habr.com/ru/articles/748408/) мы узнаём куда копать и чем копать. Outline использует Shadowsocks, поэтому поставим в систему пакет.
+ из статьи [Shadowsocks-туннелирование корпоративного VPN](https://habr.com/ru/companies/ruvds/articles/757848/) мы узнаём как правильно копать. Настроим клиент.
+ из опыта и прочих манулов покажу куда и что прописать чтобы заработало для:
  + только одного пользователя
  + всей системы
+ проверим подключения

## Начнём
Для начала у нас должен быть конфиг для подключения вида `ss://bla-bla-bla`, `ss://bla-bla-bla#name` или `ss://bla-bla-bla@server.serv:port#name`. Поговаривают, что последний вариант тоже существует, я не встречал, поэтому будем работать с первым видом. Его мы должны расшифровать, как говорит автор первой статьи - с помощью [сайта-декодировщика](https://www.base64decode.org/). Вставляю только часть **bla-bla-bla** и вот, что у меня получается:


Ставим пакет shadowsocks
```bash
sudo ‑i
apt update && apt install shadowsocks‑libev
```
